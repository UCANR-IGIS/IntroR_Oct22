<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <meta name="author" content=" October 12, 2022" />
  <meta name="copyright" content="<a href='https://ucanr-igis.github.io/IntroR_Oct22/' style='color:#444;'>https://ucanr-igis.github.io/IntroR_Oct22/</a>"/>
  <title>Intro to R Pt2</title>
  <style type="text/css">
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
            pre > code.sourceCode { white-space: pre; position: relative; }
            pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
            pre > code.sourceCode > span:empty { height: 1.2em; }
            .sourceCode { overflow: visible; }
            code.sourceCode > span { color: inherit; text-decoration: inherit; }
            div.sourceCode { margin: 1em 0; }
            pre.sourceCode { margin: 0; }
            @media screen {
            div.sourceCode { overflow: auto; }
            }
            @media print {
            pre > code.sourceCode { white-space: pre-wrap; }
            pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
            }
            pre.numberSource code
              { counter-reset: source-line 0; }
            pre.numberSource code > span
              { position: relative; left: -4em; counter-increment: source-line; }
            pre.numberSource code > span > a:first-child::before
              { content: counter(source-line);
                position: relative; left: -1em; text-align: right; vertical-align: baseline;
                border: none; display: inline-block;
                -webkit-touch-callout: none; -webkit-user-select: none;
                -khtml-user-select: none; -moz-user-select: none;
                -ms-user-select: none; user-select: none;
                padding: 0 4px; width: 4em;
                color: #aaaaaa;
              }
            pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
            div.sourceCode
              {   }
            @media screen {
            pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
            }
            code span.al { color: #ff0000; font-weight: bold; } /* Alert */
            code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
            code span.at { color: #7d9029; } /* Attribute */
            code span.bn { color: #40a070; } /* BaseN */
            code span.bu { color: #008000; } /* BuiltIn */
            code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
            code span.ch { color: #4070a0; } /* Char */
            code span.cn { color: #880000; } /* Constant */
            code span.co { color: #60a0b0; font-style: italic; } /* Comment */
            code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
            code span.do { color: #ba2121; font-style: italic; } /* Documentation */
            code span.dt { color: #902000; } /* DataType */
            code span.dv { color: #40a070; } /* DecVal */
            code span.er { color: #ff0000; font-weight: bold; } /* Error */
            code span.ex { } /* Extension */
            code span.fl { color: #40a070; } /* Float */
            code span.fu { color: #06287e; } /* Function */
            code span.im { color: #008000; font-weight: bold; } /* Import */
            code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
            code span.kw { color: #007020; font-weight: bold; } /* Keyword */
            code span.op { color: #666666; } /* Operator */
            code span.ot { color: #007020; } /* Other */
            code span.pp { color: #bc7a00; } /* Preprocessor */
            code span.sc { color: #4070a0; } /* SpecialChar */
            code span.ss { color: #bb6688; } /* SpecialString */
            code span.st { color: #4070a0; } /* String */
            code span.va { color: #19177c; } /* Variable */
            code span.vs { color: #4070a0; } /* VerbatimString */
            code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
          </style>
  <style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <script src="lib/header-attrs-2.16/header-attrs.js"></script>
  <link href="lib/slidy-2/styles/slidy.css" rel="stylesheet" />
  <script src="lib/slidy-2/scripts/slidy.js"></script>
  <script src="lib/slidy_shiny-1/slidy_shiny.js"></script>
  <link rel="stylesheet" type="text/css" media="screen, projection, print"
   href="slidy2022.css" />
</head>
<body>
<div class="slide titlepage">
  <h1 class="title">Intro to R Part 2:</h1>
  <h1 class="subtitle">Packages, Functions, Piping, Data Frames, and
Importing Data</h1>
  <p class="author">
<img src='images/r_rstudio_400x120.png' style='width:400px; height:120px; margin-top:0.5em; margin-bottom:2em;'/><br/>October
12, 2022
  </p>
  <p class="date"><a href='https://ucanr-igis.github.io/IntroR_Oct22/' style='color:darkgreen; font-size:105%; font-family:monospace;'>https://ucanr-igis.github.io/IntroR_Oct22/
</a><br/><img src='images/igis-logo_550x58x256.png' style='margin-top:1.5em;'/></p>
</div>
<div class="slide section level1">

<p><br />
</p>
<p><br />
</p>
<p><img src="images/postit_bg-trans_with-note_320x320.png"
style="display:block; margin:1em auto; border:none;" /></p>
<script type="text/javascript">
w3c_slidy.mouse_click_enabled = false;
</script>
</div>
<div id="review-from-part-i" class="slide section level1">
<h1>Review from Part I</h1>
<div class="indented2 li-single">
<ul class="incremental">
<li><p>R as a <em>fancy calculator</em>:<br/><span class="fakecode">(pi
* 5 ^ 2) / sqrt(4 / 3) </span></p></li>
<li><p>Saving results as <em>objects</em>:<br/><span
class="fakecode">my_volume = (4 / 3) * pi * (1.5 ^ 3)</span></p></li>
<li><p>All R objects have a <em>class</em> (e.g., numeric, character,
data frame)</p></li>
<li><p>Objects that contain multiple values of the same class are called
<em>vectors</em></p></li>
<li><p>Some functions that return
vectors:<br/><tt>  seq()<br/>  rnorm()<br/>  sample()</tt></p></li>
<li><p>You can build vectors from scratch using:
<em><code>c()</code></em></p></li>
<li><p>You can subset or extract elements from vectors using square
brackets:<br/><span
class="fakecode">LETTERS[1:4]<br/>LETTERS[c(T,T,T,T,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F)]</span></p></li>
<li><p>Functions and operators that do something to each element of a
vector and return another vector are said to be
<em>vectorized</em><br/><tt>  + - * /<br/>  round(), abs()</tt></p></li>
<li><p>Functions that take multiple elements of a vector and spit out a
single value are said to be <em>aggregate
functions</em><br/><tt>  sum(), min(), mean(), max()</tt></p></li>
<li><p>R comes with some basic plot functions:<br/><span
style="display:block; margin-left:1em;"> <code>hist(x)</code><br/>
<code>boxplot(x)</code><br/>
<code>plot(x, y)              ## scatterplot</code><br/>
<code>plot(x, y, type = 'b')  ## 'b' = plot both points and lines</code>
</span></p></li>
</ul>
</div>
<p><br />
</p>
</div>
<div id="warm-up-quiz" class="slide section level1">
<h1>Warm-Up Quiz</h1>
<p><br />
</p>
<p><img src="images/warmup_720x480.jpg"
style="display:block; margin:1em auto; border:none;" /></p>
</div>
<div id="todays-outline" class="slide section level1">
<h1>Today’s Outline</h1>
<p><em>First half</em></p>
<div class="indented2 li-single">
<ul class="incremental">
<li>packages</li>
<li>functions</li>
<li>piping syntax</li>
<li>Exercise 3</li>
</ul>
</div>
<p><em>Second half</em></p>
<div class="indented2 li-single">
<ul class="incremental">
<li>data frames</li>
<li>importing CSV files</li>
<li>basic plotting with ggplot</li>
<li>Exercise 4</li>
</ul>
</div>
</div>
<div id="r-packages" class="slide section level1">
<h1>R Packages</h1>
<p><img src="images/packages_200x202.png" style="float:right;" /></p>
<p>Packages are what R calls <em>extensions</em> or
<em>add-ons</em>.</p>
<div id="whats-in-a-package" class="incremental">
<h2>What’s in a package?</h2>
<div class="indented2 li-single">
<ul>
<li>additional functions!<br />
</li>
<li>function help pages</li>
<li>tutorials (Vignettes)</li>
<li>datasets</li>
</ul>
</div>
</div>
<!---- incremental --->
<div id="where-do-you-find-them" class="incremental">
<h2>Where do you find them?</h2>
<div class="indented2 li-single">
<ul>
<li>people in your field<br />
</li>
<li><a href="https://cran.r-project.org/web/views/" target="_blank"
rel="noopener">CRAN - Task Views</a><br />
</li>
<li><a
href="https://cran.r-project.org/web/packages/available_packages_by_name.html"
target="_blank" rel="noopener">CRAN - List of all packages by
name</a><br />
</li>
<li>publications</li>
<li>blog posts (e.g., <a
href="https://agstats.io/post/keeping-up-with-r/" target="_blank"
rel="noopener"><em>R packages for Agricultural Research</em></a>)</li>
</ul>
</div>
</div>
<!---- incremental --->
</div>
<div id="installing-and-using-packages" class="slide section level1">
<h1>Installing and Using Packages</h1>
<p>Three simple steps to use the functions in a package:</p>
<ol style="list-style-type: decimal">
<li><p>Figure out which package you need</p></li>
<li><p>Install (i.e., download) it (just once)</p></li>
</ol>
<p><img src="images/install-package-tab_575x170x256.png"
style="display:block; margin:1em auto;" /></p>
<ol start="3" style="list-style-type: decimal">
<li>Load it into memory (must do this <em>every</em> time you start
RStudio)</li>
</ol>
<div class="indented2 indented2r">
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code></pre></div>
</div>
</div>
<div id="functions" class="slide section level1">
<h1>Functions</h1>
<p>The keys to R’s superpowers are <strong>functions</strong>! There are
<strong>four things</strong> you need to know to use a function:</p>
<div style='position:relative; border:none; height:450px;width:901px; margin:0 auto; '>
<img src="images/foo_01.png"/>
<img src="images/foo_02.png" class="incremental stackme"/>
<img src="images/foo_03.png" class="incremental stackme"/>
<img src="images/foo_04.png" class="incremental stackme"/>
<img src="images/foo_05.png" class="incremental stackme"/>
</div>
</div>
<div id="what-do-functions-return" class="slide section level1">
<h1>What Do Functions Return?</h1>
<div class="indented2 li-single">
<ul class="incremental">
<li>numbers<br />
</li>
<li>dates<br />
</li>
<li>text<br />
</li>
<li>data frames and matrices<br />
</li>
<li>spatial data<br />
</li>
<li>plots<br />
</li>
<li>trained regression models<br />
</li>
<li>HTML widgets<br />
</li>
<li>another function that returns a color ramp<br />
</li>
<li>a drone image collection metadata record<br />
</li>
<li><span style="color:crimson;">⇒ almost anything you can think of can
be returned by a function!!</span></li>
<li><span style="color:crimson;">⇒ anything returned by a function can
also be saved to an object</span></li>
</ul>
</div>
</div>
<div id="which-function-should-i-use" class="slide section level1">
<h1>Which function should I use?</h1>
<center>
<table>
<tbody>
<tr>
<td style="text-align:right; font-style:italic; padding:10px; border:none;">
Finding the right R function, half the battle is.<br><br>- Jedi MasteR
Yoda
</td>
<td style="padding:5px;">
<img src="images/yoda_bg-white_200x170.jpg" style="width:200px; height:170px;">
</td>
</tr>
</tbody>
</table>
</center>
<p><strong>Ask your friends</strong></p>
<p><strong>Ask Google</strong></p>
<p><strong>Cheatsheets!</strong></p>
<div class="indented2 li-single">
<ul>
<li><a href="./extras/base-r.pdf" target="_blank" rel="noopener">Base R
cheatsheet</a><br />
</li>
<li><a
href="https://www.rforecology.com/uploads/The_essential_R_Cheatsheet_v1_0.pdf"
target="_blank" rel="noopener">R for Ecology cheatsheet</a><br />
</li>
<li><a href="https://www.rstudio.com/resources/cheatsheets/"
target="_blank" rel="noopener">RStudio cheatsheets</a></li>
</ul>
</div>
</div>
<div id="calling-functions" class="slide section level1">
<h1>Calling Functions</h1>
<h2 id="getting-help">Getting Help</h2>
<p>Every function has a help page. To get to it enter <code>?</code>
followed by the name of the function (without parentheses):</p>
<div class="indented2 indented2r">
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>?rnorm</span></code></pre></div>
</div>
<p><img src="images/rnorm_help_16cols_930x690.png"
style="display:block; margin:1em auto; border:1px solid grey;" /></p>
<p><br />
</p>
<h2 id="arguments">Arguments</h2>
<p>Most functions take arguments. Arguments can be <em>required</em> or
<em>optional</em> (i.e. have a default value).</p>
<p>See the function’s help page to determine which arguments are
expected.</p>
<p><img src="images/function-help-args_560x290x256.png"
style="display:block; margin:1em auto; border:1px solid grey;" /></p>
<p>Here, <code>x</code> and <code>size</code> have no default value -
they are <em>required</em>.</p>
<p><code>replace</code> and <code>prob</code> have default vaules - they
are <em>optional</em>.</p>
<p><br />
</p>
<h2 id="to-name-or-not-to-name-your-arguments-that-is-the-question.">To
name or not to name your arguments? That is the question.</h2>
<p>All arguments have names. You can explicitly name arguments when
calling a function as follows:</p>
<div class="indented2 indented2r">
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rnorm</span>(<span class="at">n =</span> <span class="dv">100</span>, <span class="at">mean =</span> <span class="dv">10</span>, <span class="at">sd =</span> <span class="fl">0.3</span>)</span></code></pre></div>
</div>
<p><br />
</p>
<p>Benefits of naming your arguments:</p>
<div class="indented2 li-single">
<ol style="list-style-type: decimal">
<li>Helps you remember what each argument is<br />
</li>
<li>You can enter then in any order<br />
</li>
<li>You can skip arguments if you’re happy with the default value</li>
</ol>
</div>
<p><br />
</p>
<p>But you can <em>omit argument names</em> if you pass them <strong>in
the order expected</strong> and <strong>don’t skip any</strong>.</p>
<div class="indented2 indented2r">
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rnorm</span>(<span class="dv">500</span>, <span class="dv">50</span>, <span class="dv">3</span>)  <span class="do">## generate 500 normally distributed random</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>                   <span class="do">## numbers with a mean of 50 and stand dev = 3.</span></span></code></pre></div>
</div>
</div>
<div id="piping" class="slide section level1">
<h1>Piping</h1>
<p><img src="images/piping_200x44x256.png"
style="float:right; margin-top:-2em;" /></p>
<p><strong>Piping syntax</strong> is an alternative way of writing
arguments into functions.</p>
<style type="text/css">
span.inline-code {
  font-family: courier, monospace;
  font-weight: bold;
  color: darkgreen;
}
</style>
<p>With piping, you use the pipe operator <span
class="inline-code">%&gt;%</span> or <span
class="inline-code">|&gt;</span> to ‘feed’ the result of one function
into the next function.</p>
<p>Piping allows the results of one function to be passed as the
<strong>first argument</strong> of the next function. Hence a series of
commands to be written like a sentence.</p>
<h2 id="example">Example</h2>
<p>Consider the expression:</p>
<style type="text/css">
img.stackme {
 position:absolute;
 top:0;
 left:0;
}
</style>
<div style='position:relative; border:none; height:346px;width:901px; margin:0 auto; '>
<img src="images/functions-piping_001.png"/>
<img src="images/functions-piping_002.png" class="incremental stackme"/>
<img src="images/functions-piping_003.png" class="incremental stackme"/>
<img src="images/functions-piping_004.png" class="incremental stackme"/>
<img src="images/functions-piping_005.png" class="incremental stackme"/>
<img src="images/functions-piping_006.png" class="incremental stackme"/>
</div>
</div>
<div id="pipe-examples" class="slide section level1">
<h1>Pipe Examples</h1>
<p>RStudio keyboard shortcut for pipe operator:
<code>ctrl + shift + m</code></p>
<p>Configure which pipe to use under Global Options &gt;&gt; Code</p>
<div class="indented2">
<p><span class="inline-code"><code>%&gt;%</code></span> (default)</p>
<p><span class="inline-code"><code>|&gt;</code></span> (‘native’ pipe
introduced R4.0)</p>
</div>
<p>The traditional pipe character requires the <em>magrittr</em> or
<em>dplyr</em> package.</p>
<div class="indented2 indented2r">
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(magrittr)</span></code></pre></div>
</div>
<p>Pipes are often used to break an expression across multiple
lines:</p>
<div class="indented2 indented2r">
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">10</span>, <span class="fl">0.1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">log</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sum</span>() </span></code></pre></div>
<pre><code>## [1] 141.4023</code></pre>
</div>
<p><br />
</p>
</div>
<div id="exercise-3-packages-and-piping" class="slide section level1">
<h1>Exercise 3: Packages and Piping</h1>
<div class="shaded-box li-single" style="width:50%;">
<p><em>Exercise 3 Topics</em></p>
<ol style="list-style-type: decimal">
<li>Installing packages</li>
<li>Loading packages into memory with <code>library()</code></li>
<li>Piping syntax</li>
</ol>
</div>
</div>
<div id="break" class="slide section level1">
<h1>Break!</h1>
<p><img src="images/stretch-break-1130x590x256.png"
style="display:block; margin:1em auto; border:none;" /></p>
<p><br />
</p>
</div>
<div id="data-frames" class="slide section level1">
<h1>Data Frames</h1>
<p><img src="images/table_500x169x256.png" /></p>
<p>R has two data classes that organize data in rows and columns:</p>
<div class="indented2">
<ul>
<li><strong>data frames</strong></li>
<li><strong>matrices</strong><br />
</li>
</ul>
</div>
<h2 id="rows-and-columns-by-any-other-name.">Rows and Columns by any
other name….</h2>
<div style="width:250px; float:left;">
<p><br />
<br />
<br />
<br />
<strong>rows</strong></p>
<p><em>aka</em>:<br />
- record<br />
- case<br />
- feature (spatial)</p>
</div>
<div style="display:inline-block; border:none;">
<p><strong>columns</strong></p>
<p><em>aka:</em> variable, field</p>
<pre><code>##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species
## 1          5.1         3.5          1.4         0.2  setosa
## 2          4.9         3.0          1.4         0.2  setosa
## 3          4.7         3.2          1.3         0.2  setosa
## 4          4.6         3.1          1.5         0.2  setosa
## 5          5.0         3.6          1.4         0.2  setosa
## 6          5.4         3.9          1.7         0.4  setosa</code></pre>
</div>
<div class="colclear">

</div>
<p><br />
</p>
<h2 id="key-concepts">Key concepts</h2>
<div class="indented2 li-single">
<ul>
<li>columns of a data frame are <em>vectors</em><br />
</li>
<li>columns have <em>names</em><br />
</li>
<li>you can refer to columns by their <em>name</em> or
<em>position</em></li>
</ul>
</div>
<p><br />
</p>
<h2 id="pulling-out-a-single-column">Pulling out a Single Column</h2>
<p>To get an individual column, use <code>$</code></p>
<div class="indented2 indented2r">
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(trees)</span></code></pre></div>
<pre><code>##   Girth Height Volume
## 1   8.3     70   10.3
## 2   8.6     65   10.3
## 3   8.8     63   10.2
## 4  10.5     72   16.4
## 5  10.7     81   18.8
## 6  10.8     83   19.7</code></pre>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>trees<span class="sc">$</span>Height</span></code></pre></div>
<pre><code>##  [1] 70 65 63 72 81 83 66 75 80 75 79 76 76 69 75 74 85 86 71 64 78 80 74 72 77
## [26] 81 82 80 80 80 87</code></pre>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>trees<span class="sc">$</span>Height <span class="sc">%&gt;%</span> <span class="fu">summary</span>()</span></code></pre></div>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##      63      72      76      76      80      87</code></pre>
</div>
<p><br />
</p>
<h2 id="subsetting-rows-and-columns">Subsetting rows and columns</h2>
<p>You can use square bracket notation or tidyverse methods (dplyr).</p>
<p>Come back for Part 3. Data Wrangling</p>
<p><br />
</p>
</div>
<div id="importing-data-rstudios-import-dataset-wizard"
class="slide section level1">
<h1>Importing Data: RStudio’s Import Dataset Wizard</h1>
<center>
<img src="images/rstudio_import-dataset_410x298x256.png" />
</center>
<p><br />
</p>
<center>
<img src="images/files-import-dataset_560x331x256.png" />
</center>
<p><br />
</p>
</div>
<div id="file-paths" class="slide section level1">
<h1>File Paths</h1>
<p>When you import (or export) data with code, you have to provide a
<strong>path</strong> to a file.</p>
<p>Paths can be <strong>absolute</strong> (full), or <strong>relative
working directory</strong>.</p>
<p>Complete path:</p>
<div class="indented2">
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>my_data <span class="ot">=</span> <span class="fu">read.csv</span>(<span class="st">&quot;C:/Users/Andy/Documents/LREC/n2_study/plots/plot34a/data/soil_moist.csv&quot;</span>)</span></code></pre></div>
</div>
<p><br />
</p>
<div class="shaded-box" style="width:50%; margin:0 auto;">
<p><strong>Windows users: Beware the slashes!</strong></p>
<p>The following will <em>not</em> work beause of the slashes:</p>
<div class="indented2" style="font-family:monospace;">
C:<span class="bigred">\</span>noworm<span
class="bigred">\</span>trials<span class="bigred">\</span>data
</div>
<p>Back slashes must be converted to one of the following:</p>
<div class="indented2">
<p><code>C:/noworm/trials/data</code></p>
<p><code>C:\\noworm\\trials\\data</code></p>
</div>
</div>
<p><br />
</p>
</div>
<div id="using-paths-relative-to-the-working-directory"
class="slide section level1">
<h1>Using Paths Relative to the Working Directory</h1>
<h2 id="working-directory">Working Directory</h2>
<p>Even though you don’t see it, there is <strong>always</strong>
working directory.</p>
<p>You can view the current working directory with:</p>
<div class="indented2">
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">getwd</span>()</span></code></pre></div>
</div>
<p><br />
</p>
<p>Changing the working directory is easy!</p>
<center>
<img src="images/setwd_680x320x256.png" />
</center>
<p>…or with code:</p>
<div class="indented2">
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">&quot;D:/Data/DroneData/black_rascal_creek&quot;</span>)</span></code></pre></div>
</div>
<p><br />
</p>
<h2 id="relative-paths">Relative Paths</h2>
<p>When using relative paths, the first <code>'.'</code> represents the
<strong>working directory</strong>.</p>
<div class="indented2">
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>my_data <span class="ot">=</span> <span class="fu">read.csv</span>(<span class="st">&quot;./data/soil_moist.csv&quot;</span>)</span></code></pre></div>
</div>
<p><br />
</p>
<p>The main advantage of using relative paths is <em>portability</em> of
your project.</p>
</div>
<div id="organizing-data-and-scripts" class="slide section level1">
<h1>Organizing Data and Scripts</h1>
<div style='position:relative; border:none; height:653px;width:1200px; margin:0 auto; '>
<img src="images/fldr-tree_01.png"/>
<img src="images/fldr-tree_02.png" class="incremental stackme"/>
<img src="images/fldr-tree_03.png" class="incremental stackme"/>
<img src="images/fldr-tree_04.png" class="incremental stackme"/>
<img src="images/fldr-tree_05.png" class="incremental stackme"/>
</div>
<p><br />
</p>
</div>
<div id="exercise-4-importing-data-and-working-with-data-frames"
class="slide section level1">
<h1>Exercise 4: Importing Data and Working with Data Frames</h1>
<div class="shaded-box li-single" style="width:50%;">
<p><em>Exercise 4 Topics</em></p>
<ol style="list-style-type: decimal">
<li>create data frames from scratch<br />
</li>
<li>explore R’s built-in data frames<br />
</li>
<li>compute summary stats on individual columns<br />
</li>
<li>import a csv</li>
<li>subset rows</li>
<li>identify NA values</li>
</ol>
</div>
</div>
<div id="review-data-frames" class="slide section level1">
<h1>Review: Data Frames</h1>
<p>The most common class for storing tabular data in R is the
<strong>data frame</strong></p>
<p>View the first few rows of a data frame with
<strong><code>head()</code></strong></p>
<p>View an entire data frame with
<strong><code>View()</code></strong></p>
<p>Grab an individual column with <strong><code>$</code></strong></p>
<!------

Grab specific rows and columns with <span style='font-weight:bold; font-family:monospace;'>my_df[*rows-expression*, *cols-expression*]</span>

<div class="indented2">
where *rows-expression* and *cols-expression* are a vector of:
  <div class="indented2">
  integers  
  logicals (TRUE / FALSE) (or an expression that returns a vector of logicals)
  column names
  </div>
</div>

------>
<p><br />
</p>
</div>
<div id="ggplot-101" class="slide section level1">
<h1>ggplot 101</h1>
<p>Load Palmer Penguins data frame:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(palmerpenguins)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(penguins)</span></code></pre></div>
<pre><code>## # A tibble: 6 × 8
##   species island    bill_length_mm bill_depth_mm flipper_l…¹ body_…² sex    year
##   &lt;fct&gt;   &lt;fct&gt;              &lt;dbl&gt;         &lt;dbl&gt;       &lt;int&gt;   &lt;int&gt; &lt;fct&gt; &lt;int&gt;
## 1 Adelie  Torgersen           39.1          18.7         181    3750 male   2007
## 2 Adelie  Torgersen           39.5          17.4         186    3800 fema…  2007
## 3 Adelie  Torgersen           40.3          18           195    3250 fema…  2007
## 4 Adelie  Torgersen           NA            NA            NA      NA &lt;NA&gt;   2007
## 5 Adelie  Torgersen           36.7          19.3         193    3450 fema…  2007
## 6 Adelie  Torgersen           39.3          20.6         190    3650 male   2007
## # … with abbreviated variable names ¹​flipper_length_mm, ²​body_mass_g</code></pre>
<p><br />
</p>
<p>Use ggplot to make a scatterplot:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(penguins, <span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm, <span class="at">y =</span> bill_length_mm, <span class="at">color =</span> species)) <span class="sc">+</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Bill Length vs Flipper Length for 3 Species of Penguins&quot;</span>)</span></code></pre></div>
<pre><code>## Warning: Removed 2 rows containing missing values (geom_point).</code></pre>
<p><img src="slides_pt2_files/figure-slidy/ggplot_demo-1.png" width="768" /></p>
</div>
<div id="anatomy-of-a-ggplot" class="slide section level1">
<h1>Anatomy of a ggplot</h1>
<style type="text/css">
img.stackme {
  position:absolute;
  top:0;
  left:0;
}
</style>
<div style='position:relative; border:none; height:592px;'>
<img src="images/ggplot_anatomy_001.png"/>
<img src="images/ggplot_anatomy_002.png" class="incremental stackme"/>
<img src="images/ggplot_anatomy_003.png" class="incremental stackme"/>
<img src="images/ggplot_anatomy_004.png" class="incremental stackme"/>
<img src="images/ggplot_anatomy_005.png" class="incremental stackme"/>
<img src="images/ggplot_anatomy_006.png" class="incremental stackme"/>
<img src="images/ggplot_anatomy_007.png" class="incremental stackme"/>
</div>
</div>
<div id="maping-columns-to-symbology-properties-with-aes"
class="slide section level1">
<h1>Maping Columns to Symbology Properties with <code>aes()</code></h1>
<pre style="font-weight:normal;">
ggplot(penguins, <strong>aes(x = flipper_length_mm , y = bill_length_mm , color = species)</strong>) +
  geom_point() +
  ggtitle("Bill Length vs Flipper Length for 3 Species of Penguins")
</pre>
<div class="indented1 singlespace">
<ul>
<li><code>aes()</code> sets the default source for each visual property
(or aesthetic) of the plot layers
<ul>
<li>note you don’t need to put column names in quotes<br />
</li>
</ul></li>
<li>some common visual properties:</li>
</ul>
<div class="indented2">
<p><code>x</code> - where it falls along the x-axis<br />
<code>y</code> - where it falls along the y-axis<br />
<code>color</code><br />
<code>fill</code><br />
<code>size</code></p>
</div>
<ul>
<li>which visual properties are needed depends on the
<code>geom_xxxx()</code> functions you use<br />
</li>
<li>only put in <code>aes()</code> the visual properties you want linked
to the data</li>
</ul>
</div>
</div>
<div id="geoms" class="slide section level1">
<h1>Geoms</h1>
<div class="indented1">
<ul>
<li><p><code>geom_xxxx()</code> functions add layers</p></li>
<li><p>drawn from the bottom up</p></li>
<li><p>some common geoms:</p></li>
</ul>
<div class="indented2 singlespace" style="font-family:monospace;">
<ul>
<li>geom_point()<br />
</li>
<li>geom_bar()<br />
</li>
<li>geom_boxplot()<br />
</li>
<li>geom_histogram()<br />
</li>
</ul>
</div>
<ul>
<li>visual properties can be linked to a column in the data frame or
manually specified</li>
</ul>
<div class="indented2" style="font-family:monospace;">
<p>geom_point(col = pop_size)<br />
geom_point(col = “red”)</p>
</div>
<ul>
<li><p>visual properties are inherited (from
<code>aes()</code>)</p></li>
<li><p>each geom has default color palettes and legend settings</p></li>
</ul>
</div>
<p><br />
</p>
<h2 id="example-1">Example:</h2>
<p>In the example below, note where <code>geom_boxplot()</code> gets its
visual properties:</p>
<div class="indented1 singlespace">
<ul>
<li><strong>x</strong> and <strong>y</strong> are linked to columns in
the dataframe and inherited from <code>aes()</code><br />
</li>
<li><strong>color</strong>, <strong>fill</strong>, and
<strong>size</strong> are manually specified</li>
</ul>
</div>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(penguins, <span class="fu">aes</span>(<span class="at">x =</span> species, <span class="at">y =</span> bill_length_mm)) <span class="sc">+</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">color =</span> <span class="st">&quot;navy&quot;</span>, <span class="at">fill =</span> <span class="st">&quot;yellow&quot;</span>, <span class="at">size =</span> <span class="fl">1.5</span>)</span></code></pre></div>
<pre><code>## Warning: Removed 2 rows containing non-finite values (stat_boxplot).</code></pre>
<p><img src="slides_pt2_files/figure-slidy/ggplot2-1.png" width="768" /></p>
<p><br />
</p>
<h2 id="adding-visual-elements-to-a-plot">Adding visual elements to a
plot</h2>
<p><code>geom_xxxx()</code> functions can also be used to add other
graphic elements:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(penguins, <span class="fu">aes</span>(<span class="at">x =</span> species, <span class="at">y =</span> bill_length_mm)) <span class="sc">+</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">color =</span> <span class="st">&quot;navy&quot;</span>, <span class="at">fill =</span> <span class="st">&quot;yellow&quot;</span>, <span class="at">size =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="fl">43.9</span>, <span class="at">size=</span><span class="dv">3</span>, <span class="at">color=</span><span class="st">&quot;red&quot;</span>) <span class="sc">+</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_label</span>(<span class="at">x =</span> <span class="dv">3</span>, <span class="at">y =</span> <span class="dv">58</span>, <span class="at">label =</span> <span class="st">&quot;Gentoo penguins </span><span class="sc">\n</span><span class="st"> are just the best!&quot;</span>)</span></code></pre></div>
<pre><code>## Warning: Removed 2 rows containing non-finite values (stat_boxplot).</code></pre>
<p><img src="slides_pt2_files/figure-slidy/ggplot3-1.png" width="768" /></p>
<p><br />
</p>
</div>
<div id="end" class="slide section level1">
<h1>END!</h1>
</div>

  <!-- dynamically load mathjax for compatibility with self-contained -->
  <script>
    (function () {
      var script = document.createElement("script");
      script.type = "text/javascript";
      script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
      document.getElementsByTagName("head")[0].appendChild(script);
    })();
  </script>

</body>
</html>
